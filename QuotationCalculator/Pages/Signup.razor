@page "/signup"
@attribute [Authorize(Roles ="Admin")]
@inject IJSRuntime JSRuntime
@using ClassLibraryModel;
@using ClassLibraryDal;

<PageTitle>Add Users</PageTitle>

<div class="container">
    <h1>Add Users</h1>

    <!-- Signup Form -->
    <div class="form-container">
        <form @onsubmit="HandleSubmit">
            <div class="form-group">
                <label for="signupFullName">Full Name</label>
                <input @bind-value="userDetails.FullName" type="text" class="form-control" id="signupFullName" placeholder="Enter full name">
            </div>
            <div class="form-group">
                <label for="signupEmail">Email address</label>
                <input @bind-value="userDetails.EmailAddress" type="email" class="form-control" id="signupEmail" placeholder="Enter email">
            </div>
            <div class="form-group">
                <label for="signupPassword">Password</label>
                <input @bind-value="userDetails.Pass" type="password" class="form-control" id="signupPassword" placeholder="Password">
            </div>
            <div class="form-group">
                <label for="role">Role</label>
                <input @bind-value="userDetails.Role" type="text" class="form-control" id="role" placeholder="Role">
            </div>
            <button type="submit" class="btn btn-primary">Sign Up</button>
        </form>
    </div>

</div>


@code{
    UserDetails userDetails = new UserDetails();

    public void HandleSubmit()
    {
        DalUserDetails.Signup_User(userDetails);
        JSRuntime.InvokeVoidAsync("alert", "successfully Added");
    }
}